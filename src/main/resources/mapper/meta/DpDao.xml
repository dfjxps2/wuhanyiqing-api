<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.dfjinxin.modules.meta.dao.DpDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="io.dfjinxin.modules.meta.entity.DpEntity" id="dpMap">
        <result property="dpid" column="Dpid"/>
        <result property="dataTblid" column="Data_Tblid"/>
        <result property="dpDt" column="Dp_Dt"/>
        <result property="dpPath" column="Dp_Path"/>
        <result property="recQty" column="Rec_Qty"/>
    </resultMap>

    <select id="queryAll" resultType="map">
        select distinct Dp_Dt dpDt from dp t
        where 1=1
        <if test="m.containsKey('dataTblid') and m.dataTblid != null and m.dataTblid != ''">
            and t.Data_Tblid in (${m.dataTblid})
        </if>
        order by Dp_Dt desc
    </select>

    <select id="queryDpEntityById" parameterType="java.lang.Integer" resultMap="dpMap">
        SELECT
            a.Dpid, a.Data_Tblid, a.Dp_Dt, a.Dp_Path, a.Rec_Qty
        FROM
            dp a
        WHERE
            a.Data_Tblid = #{dpid}
            order by a.Dp_Dt desc
    </select>
</mapper>