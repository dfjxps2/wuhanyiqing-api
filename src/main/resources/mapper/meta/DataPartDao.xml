<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.dfjinxin.modules.meta.dao.DataPartDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="io.dfjinxin.modules.meta.entity.DataPartEntity" id="dataPartMap">
        <result property="partid" column="Partid"/>
        <result property="partTypeid" column="Part_Typeid"/>
        <result property="tnmtid" column="Tnmtid"/>
    </resultMap>

    <select id="selectPartByTnmt" parameterType="java.lang.Long" resultType="io.dfjinxin.modules.meta.dto.DataPartDto">
        SELECT
        a.Partid AS partid,
        a.Tnmtid AS tnmtid,
        b.Part_Typeid as partTypeid,
        b.Part_Type_Desc as partTypeDesc
        FROM
        data_part a
        LEFT JOIN data_part_type b ON a.Part_Typeid = b.Part_Typeid
        WHERE a.Tnmtid = #{tnmtid} and b.Part_Typeid <![CDATA[<>]]> '2'
    </select>

</mapper>